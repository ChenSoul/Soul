<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Soul</title>
  
  <subtitle>寄蜉蝣于天地,渺沧海之一粟</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://czqsoul.github.io/"/>
  <updated>2019-08-28T06:15:08.445Z</updated>
  <id>https://czqsoul.github.io/</id>
  
  <author>
    <name>Soul</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>node连接mongodb数据库</title>
    <link href="https://czqsoul.github.io/2019/08/28/mongoose/"/>
    <id>https://czqsoul.github.io/2019/08/28/mongoose/</id>
    <published>2019-08-28T03:59:30.726Z</published>
    <updated>2019-08-28T06:15:08.445Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="colorquote success"><h3 id="node要想链接数据库-需搭配mongoose这个包-npm-install-mongoose-–save"><a href="#node要想链接数据库-需搭配mongoose这个包-npm-install-mongoose-–save" class="headerlink" title="node要想链接数据库,需搭配mongoose这个包(npm install mongoose –save)"></a>node要想链接数据库,需搭配mongoose这个包(npm install mongoose –save)</h3></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const mongoose=require(&apos;mongoose&apos;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongoose.connect(&quot;mongodb://127.0.0.1:27017/本地数据库名&quot;)</span><br></pre></td></tr></table></figure><blockquote class="colorquote warning"><p>你会发现终端里面会出现一条:DeprecationWarning: current URL string parser is deprecated, and will be removed in a future version. To use the new parser, pass option { useNewUrlParser: true } to MongoClient.connect  这样的警告信息,为什么会这样呢？其实你只要在后面接上{ useNewUrlParser: true },这样就好了;(这个提示的意思是说mongoose.connect(‘mongodb://localhost/hd15’)这种连接方式已经不推荐了，下个版本的mongoose可能不支持这种写法了，需要添加{ useNewUrlParser: true }这个属性才可以)</p></blockquote><h4 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongoose.connect(&quot;mongodb://127.0.0.1:27017/test&quot;,&#123; useNewUrlParser: true&#125;)</span><br></pre></td></tr></table></figure><h4 id="监听数据库是否链接成功"><a href="#监听数据库是否链接成功" class="headerlink" title="监听数据库是否链接成功"></a>监听数据库是否链接成功</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mongoose.connection.once(&apos;open&apos;,()=&gt;&#123;</span><br><span class="line">         console.log(&quot;链接数据库成功&quot;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="创建数据库集合"><a href="#创建数据库集合" class="headerlink" title="创建数据库集合"></a>创建数据库集合</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let Schema=mongoose.Schema;</span><br><span class="line">let personSchema=new Schema(&#123;</span><br><span class="line">    name:String,</span><br><span class="line">    age:Number,</span><br><span class="line">    sex:&#123;</span><br><span class="line">        type:String,</span><br><span class="line">        default:&apos;男&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="实例对象model"><a href="#实例对象model" class="headerlink" title="实例对象model"></a>实例对象model</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let personModel=mongoose.model(&quot;person&quot;,personSchema)</span><br></pre></td></tr></table></figure><h4 id="插入数据"><a href="#插入数据" class="headerlink" title="插入数据"></a>插入数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">personModel.create(&#123;</span><br><span class="line">       name:&apos;xxx&apos;,</span><br><span class="line">       age:18,</span><br><span class="line">   &#125;,(err:Error)=&gt;&#123;</span><br><span class="line">       if(!err)console.log(&apos;插入成功&apos;)</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;colorquote success&quot;&gt;&lt;h3 id=&quot;node要想链接数据库-需搭配mongoose这个包-npm-install-mongoose-–save&quot;&gt;&lt;a href=&quot;#node要想链接数据库-需搭配mongoose这个包-n
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>mongodb数据库的安装包</title>
    <link href="https://czqsoul.github.io/2019/08/28/mongodb/"/>
    <id>https://czqsoul.github.io/2019/08/28/mongodb/</id>
    <published>2019-08-28T03:50:38.981Z</published>
    <updated>2019-08-28T03:58:55.667Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="colorquote success"><p><a href="https://pan.baidu.com/s/1GldEjpoeRXoAvv7g4e3gQA" target="_blank" rel="noopener">mongodb安装包</a> 提取码:83o2</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;colorquote success&quot;&gt;&lt;p&gt;&lt;a href=&quot;https://pan.baidu.com/s/1GldEjpoeRXoAvv7g4e3gQA&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;mongodb安装
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>小程序</title>
    <link href="https://czqsoul.github.io/2019/08/27/wx/"/>
    <id>https://czqsoul.github.io/2019/08/27/wx/</id>
    <published>2019-08-27T09:04:19.476Z</published>
    <updated>2019-08-27T11:16:48.847Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="colorquote success"><p>服务通知</p></blockquote><h5 id="小程序服务通知必须由form表单包裹button组件-有于我是使用-Taro-开发-开发上有些区别"><a href="#小程序服务通知必须由form表单包裹button组件-有于我是使用-Taro-开发-开发上有些区别" class="headerlink" title="小程序服务通知必须由form表单包裹button组件(有于我是使用 Taro 开发,开发上有些区别)"></a>小程序服务通知必须由form表单包裹button组件(有于我是使用 <a href="http://taro-docs.jd.com/taro/docs/README.html" target="_blank" rel="noopener">Taro</a> 开发,开发上有些区别)</h5><h5 id><a href="#" class="headerlink" title></a><img src="https://antspace-dev-img-1.oss-cn-shenzhen.aliyuncs.com/efd5ea529285d1682c05cfbfffaf643.png" alt="FormId"></h5><blockquote class="colorquote danger"><p>由于模拟器的原因获取到formID是假的，需要真机调试，这样才会拿到真的formId;并且有效期只有7天</p></blockquote><h5 id="-1"><a href="#-1" class="headerlink" title></a><img src="https://antspace-dev-img-1.oss-cn-shenzhen.aliyuncs.com/17c620fe67b9d187407361df940ef0f.png" alt="formId"></h5><hr><h2 id="微信支付"><a href="#微信支付" class="headerlink" title="微信支付"></a>微信支付</h2><h3 id="支付API-wx-requestPayment"><a href="#支付API-wx-requestPayment" class="headerlink" title="支付API  wx.requestPayment()"></a>支付API  wx.requestPayment()</h3><table><thead><tr><th>属性</th><th>类型</th><th>默认值</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>timeStamp</td><td>string</td><td></td><td>是</td><td>时间戳，从 1970 年 1 月 1 日 00:00:00 至今的秒数，即当前的时间</td></tr><tr><td>nonceStr</td><td>string</td><td></td><td>是</td><td>随机字符串，长度为32个字符以下</td></tr><tr><td>package</td><td>string</td><td></td><td>是</td><td>统一下单接口返回的 prepay_id 参数值，提交格式如：prepay_id=***</td></tr><tr><td>signType</td><td>string</td><td>MD5</td><td>否</td><td>签名算法</td></tr><tr><td>paySign</td><td>string</td><td></td><td>是</td><td>签名，具体签名方案参见 <a href="https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=7_7&index=3" target="_blank" rel="noopener">小程序支付接口文档</a></td></tr><tr><td>success</td><td>function</td><td></td><td>否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td>function</td><td></td><td>否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>function</td><td></td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table><h3 id="object-signType-的合法值"><a href="#object-signType-的合法值" class="headerlink" title="object.signType 的合法值"></a>object.signType 的合法值</h3><table><thead><tr><th>值</th><th>说明</th><th>最低版本</th></tr></thead><tbody><tr><td>MD5</td><td>MD5</td><td></td></tr><tr><td>HMAC-SHA256</td><td>HMAC-SHA256</td><td></td></tr></tbody></table><h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">wx.requestPayment(&#123;</span><br><span class="line">  timeStamp: <span class="string">''</span>,</span><br><span class="line">  nonceStr: <span class="string">''</span>,</span><br><span class="line">  package: <span class="string">''</span>,</span><br><span class="line">  signType: <span class="string">'MD5'</span>,</span><br><span class="line">  paySign: <span class="string">''</span>,</span><br><span class="line">  success (res) &#123; &#125;,</span><br><span class="line">  fail (res) &#123; &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote class=&quot;colorquote success&quot;&gt;&lt;p&gt;服务通知&lt;/p&gt;&lt;/blockquote&gt;

&lt;h5 id=&quot;小程序服务通知必须由form表单包裹button组件-有于我是使用-Taro-开发-开发上有些区别&quot;&gt;&lt;a href=&quot;#小程序服务通
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>个人介绍</title>
    <link href="https://czqsoul.github.io/2019/08/26/Soul/"/>
    <id>https://czqsoul.github.io/2019/08/26/Soul/</id>
    <published>2019-08-26T10:44:40.918Z</published>
    <updated>2019-08-27T02:29:04.409Z</updated>
    
    <content type="html"><![CDATA[<h2 id="个人介绍"><a href="#个人介绍" class="headerlink" title="个人介绍"></a>个人介绍</h2><h4 id="emsp-性别男-爱好女-长得帅"><a href="#emsp-性别男-爱好女-长得帅" class="headerlink" title="&emsp;性别男,爱好女,长得帅"></a>&emsp;性别男,爱好女,长得帅</h4><h4 id="emsp-附带本人真实照片"><a href="#emsp-附带本人真实照片" class="headerlink" title="&emsp;附带本人真实照片:"></a>&emsp;附带本人真实照片:</h4><div align="center"><img width="250" height="300" src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1566826852690&di=e53c2f5c0044e4dfb7cd04ac6725279e&imgtype=0&src=http%3A%2F%2Fimg.besoo.com%2Ffile%2F201608%2F18%2F1741459845908.jpg"></div><h3 id="个人喜好"><a href="#个人喜好" class="headerlink" title="个人喜好:"></a>个人喜好:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">英雄联盟:<span class="string">"守望之海:ID文艺少年(最强王者五)"</span></span><br><span class="line">篮球:<span class="string">"我是长达两年半的练习生:陈旭坤;我会唱跳,rap,篮球;msuic!"</span></span><br></pre></td></tr></table></figure><h3 id="技术方面"><a href="#技术方面" class="headerlink" title="技术方面:"></a>技术方面:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">react:熟练掌握react的卸载与重装;</span><br><span class="line">vue:熟练使用vue脚手架搭建项目;</span><br><span class="line">redux:熟悉redux的异步1+1使用;</span><br><span class="line">node:精通掌握node的各种引包方法及变量名的新颖;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;个人介绍&quot;&gt;&lt;a href=&quot;#个人介绍&quot; class=&quot;headerlink&quot; title=&quot;个人介绍&quot;&gt;&lt;/a&gt;个人介绍&lt;/h2&gt;&lt;h4 id=&quot;emsp-性别男-爱好女-长得帅&quot;&gt;&lt;a href=&quot;#emsp-性别男-爱好女-长得帅&quot; class=&quot;head
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>获取项目</title>
    <link href="https://czqsoul.github.io/2019/08/26/hello-world/"/>
    <id>https://czqsoul.github.io/2019/08/26/hello-world/</id>
    <published>2019-08-26T06:34:02.232Z</published>
    <updated>2019-08-27T06:17:40.076Z</updated>
    
    <content type="html"><![CDATA[<p>欢迎来到我的个人博客 <a href="https://github.com/czqSoul/czqSoul.github.io" target="_blank" rel="noopener">git</a> 这个博客是闲暇时抽空做的 灵感来自 <a href="https://github.com/klugjo/hexo-theme-anodyne" target="_blank" rel="noopener">anodyne</a> 欢迎提交 <a href="https://github.com/czqSoul/czqSoul.github.io/issues" target="_blank" rel="noopener">Issuse</a></p><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><h3 id="1-node-6-9-2-git-3-npm-install-g-hexo-cli"><a href="#1-node-6-9-2-git-3-npm-install-g-hexo-cli" class="headerlink" title="1.node:6.9+  2.git  3.npm install -g hexo-cli"></a>1.node:6.9+ <br> 2.git <br> 3.npm install -g hexo-cli</h3><h2 id="获取"><a href="#获取" class="headerlink" title="获取"></a>获取</h2><h3 id="git-地址-或者下载压缩包"><a href="#git-地址-或者下载压缩包" class="headerlink" title="git 地址 或者下载压缩包"></a><a href="https://github.com/czqSoul/czqSoul.github.io" target="_blank" rel="noopener">git</a> 地址 或者下载压缩包</h3><h4 id><a href="#" class="headerlink" title></a><img src="https://antspace-dev-img-1.oss-cn-shenzhen.aliyuncs.com/7c335e54869120bbb9248b024f347b7.png" alt="git"></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">one:<span class="string">"cd 目录"</span></span><br></pre></td></tr></table></figure><h3 id="下载依赖"><a href="#下载依赖" class="headerlink" title="下载依赖"></a>下载依赖</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">two:<span class="string">"npm install"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">three:<span class="string">"hexo server"</span></span><br></pre></td></tr></table></figure><h3 id="启动服务报错"><a href="#启动服务报错" class="headerlink" title="启动服务报错"></a>启动服务报错</h3><p>issuse: <a href="https://github.com/czqSoul/czqSoul.github.io/issues" target="_blank" rel="noopener">issuse</a></p><h3 id="提交项目"><a href="#提交项目" class="headerlink" title="提交项目"></a>提交项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">five:<span class="string">"hexo d -g(打包丢到gitpackge,需要更改自己的git地址，具体配置请看下面Hexo官网)"</span></span><br></pre></td></tr></table></figure><h3 id="Hexo地址-Hexo"><a href="#Hexo地址-Hexo" class="headerlink" title="Hexo地址: Hexo"></a>Hexo地址: <a href="https://hexo.io/zh-cn/api/events" target="_blank" rel="noopener">Hexo</a></h3><p>主题来自于: <a href="https://github.com/Sariay/hexo-theme-Annie" target="_blank" rel="noopener">anodyne</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;欢迎来到我的个人博客 &lt;a href=&quot;https://github.com/czqSoul/czqSoul.github.io&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;git&lt;/a&gt; 这个博客是闲暇时抽空做的 灵感来自 &lt;a href=&quot;https
      
    
    </summary>
    
    
  </entry>
  
</feed>
